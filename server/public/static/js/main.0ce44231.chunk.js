(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},58:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){},85:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(21),a=s.n(c),r=(s(58),s(0));var i=s(9),l=s(10),o=s(6),d=s(4),j="IS_USER_LOGGED_IN",b="SET_USER_ID",u="GET_PROFILE",h="UPDATE_USER",O="LOGGED_IN_USER",m=s(11),x=s(7),p=s.n(x),f=(s(64),s(65),s(36)),g=s.n(f);var v=function(){var e=Object(n.useState)([{username:"",_id:""}]),t=Object(d.a)(e,2),s=t[0],c=t[1],a=function(){var e=Object(m.a)(p.a.mark((function e(t){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target.value),e.next=4,fetch("/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.target.value})});case 4:return s=e.sent,e.next=7,s.json();case 7:"400"===(s=e.sent).status?window.alert("cannot match the specified value"):(n=s.users.map((function(e){return{_id:e._id,username:e.username}})),c(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"searchboxouter",children:[Object(r.jsxs)("div",{className:"searchbox",children:[Object(r.jsx)("input",{type:"text",className:"searchbar",placeholder:"Search","aria-label":"Search",onChange:a}),Object(r.jsx)(g.a,{className:"fa fa-search search",style:{color:"blue"}})]}),Object(r.jsx)("div",{className:"internallist",children:Object(r.jsx)("div",{class:"list-group",children:s.map((function(e){return Object(r.jsx)(i.b,{to:"/profile/"+e._id,class:"list-group-item list-group-item-action active",children:e.username})}))})})]})},y=s(3),N=[{id:1,skill:"Data Structures"},{id:2,skill:"Object Oriented Programming"},{id:3,skill:"Algorithm"},{id:4,skill:"C"},{id:5,skill:"Java"}];s(73);var w=function(){for(var e=[],t=0;t<N.length;t++)e.push({id:N[t].id,skill:N[t].skill,isSelected:!1});var s=Object(n.useState)(Object(o.c)((function(e){return e.user.update_user}))),c=Object(d.a)(s,2),a=c[0],l=c[1],j=Object(o.b)(),b=Object(n.useState)(e),u=Object(d.a)(b,2),O=u[0],x=u[1];Object(n.useEffect)((function(){fetch("/profile/userkiprofile").then((function(e){return e.json()})).then((function(t){200==t.status&&(l(t.user),x(t.user.areasOfInterest.length?t.user.areasOfInterest:e),w(t.user.qualifications?t.user.qualifications:""))}))}),[]);var f=Object(n.useState)(""),g=Object(d.a)(f,2),v=g[0],w=g[1],S=function(){var e=Object(m.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("Inside handle sumbit",O),e.next=4,fetch("/addteacher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifications:v,areasOfInterest:O})});case 4:return s=e.sent,e.next=7,s.json();case 7:s=e.sent,l(s.updatedUser),console.log(s.status),console.log("New user data ",s.updatedUser),"400"!==s.status&&s.updatedUser?(window.alert("Added teacher successfully"),j({type:h,payload:{update_user:s.updatedUser}})):window.alert("Cannot be added as a teacher"),window.location.reload(),console.log(O),console.log(v);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=O.map((function(t){return t.id==e.target.id?Object(y.a)(Object(y.a)({},t),{},{isSelected:!t.isSelected}):t}));x(t),console.log("*************************",t)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(i.c,{to:"/home",className:"main-navbar",activeClassName:"main-nav-active","data-toggle":"modal","data-target":"#exampleModal","data-whatever":"@getbootstrap",children:a&&a.isTeacher?"Edit skills":"Add as Teacher"}),Object(r.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{class:"modal-dialog",role:"document",children:Object(r.jsxs)("div",{class:"modal-content",children:[Object(r.jsxs)("div",{class:"modal-header",children:[Object(r.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:a&&a.isTeacher?"Edit skills":"Add as Teacher"}),Object(r.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(r.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(r.jsx)("div",{class:"modal-body",children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{for:"areaOfInterest",class:"col-form-label",children:"Area of Interest"}),Object(r.jsxs)("div",{class:"dropdown show",children:[Object(r.jsx)("a",{class:"btn btn-secondary dropdown-toggle btn-lg",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Area of Interest"}),Object(r.jsx)("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:Object(r.jsx)("div",{class:"form-check",children:O.map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)("input",{class:"form-check-input",type:"checkbox",value:"1",checked:e.isSelected,id:e.id,onClick:_}),Object(r.jsx)("label",{class:"form-check-label",for:e.id,children:e.skill})]})}))})})]})]}),Object(r.jsxs)("div",{class:"form-group",children:[Object(r.jsx)("label",{for:"qualifications_text",class:"col-form-label",children:"Qualifications"}),Object(r.jsx)("textarea",{class:"form-control",id:"qualifications_text",value:v,onChange:function(e){w(e.target.value)}})]})]})}),Object(r.jsxs)("div",{class:"modal-footer",children:[Object(r.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(r.jsx)("button",{type:"button",class:"btn btn-primary",onClick:S,children:"Submit"})]})]})})})]})},S=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),s=t[0],c=(t[1],Object(n.useState)(!1)),a=Object(d.a)(c,2),b=(a[0],a[1],Object(n.useState)(!1)),h=Object(d.a)(b,2),O=(h[0],h[1],Object(l.g)()),m=Object(o.b)(),x=Object(n.useState)(Object(o.c)((function(e){return e.user.update_user}))),p=Object(d.a)(x,2);p[0],p[1];Object(n.useEffect)((function(){console.log("dom eleemntsfsafsadfsf");var e=document.querySelector(".searchbar").getClientRects()[0],t=document.querySelector(".list-group");t.style.left=e.x+"px",t.style.width=e.width+"px",console.log(t.getClientRects())}));Object(o.c)((function(e){return e.signup.is_user_logged_in}));return Object(r.jsx)("div",{children:Object(r.jsxs)("nav",{className:"main-nav",children:[Object(r.jsx)("div",{className:"logo",onClick:function(){window.location.replace("/home")},"data-toggle":"tooltip",title:"Go to Home",children:Object(r.jsxs)("h2",{children:[Object(r.jsx)("span",{children:"G"}),"yaan",Object(r.jsx)("span",{children:"D"}),"aan"]})}),Object(r.jsx)("div",{className:s?"menu-link mobile-menu-link":"menu-link",children:Object(r.jsxs)("ul",{className:"linkList",children:[Object(r.jsx)("li",{children:Object(r.jsx)("div",{children:Object(r.jsx)(v,{})})}),Object(r.jsx)("li",{className:"editskill",children:Object(r.jsx)(w,{})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.c,{to:"/classes",className:"main-navbar",activeClassName:"main-nav-active",children:"Classes"})}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{onClick:function(e){console.log("Button clicked"),fetch("/logout").then((function(e){console.log(e.status),200==e.status&&(console.log("Logged out"),m({type:j,payload:!1}),m({type:u,payload:!1}),O.push("/"))}))},className:"logoutbtn",children:"Log out"})]})})]})})};s(33),s(34);var _=function(e){var t=e.user,s=Object(l.g)();return Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"shortprofile",onClick:function(e){s.push("/profile/"+t._id)},children:t.username})})};var k=function(e){var t=e.users;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"tableHeading",children:Object(r.jsx)("h2",{children:"Top Rated Users"})}),Object(r.jsxs)("table",{class:"toprated1 table table-bordered table-striped mb-0 ",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"th-sm ratedHeading",children:"Rank"}),Object(r.jsx)("th",{className:"th-sm ratedHeading",children:"name"}),Object(r.jsx)("th",{className:"th-sm ratedHeading",children:"Rating"})]})}),Object(r.jsx)("tbody",{children:t&&t.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsxs)("td",{children:[" ",Object(r.jsx)(i.b,{to:"/profile/"+e._id,children:e.username})," "]}),Object(r.jsx)("td",{children:e.globalRating})]})}))})]})]})};var C=function(e){var t=e.users;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"tableHeading",children:Object(r.jsx)("h2",{children:"Top Contributors"})}),Object(r.jsxs)("table",{class:"toprated1 table table-bordered table-striped mb-0 ",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"th-sm ratedHeading",children:"Rank"}),Object(r.jsx)("th",{className:"th-sm ratedHeading",children:"Name"}),Object(r.jsx)("th",{className:"th-sm ratedHeading",children:"Classes"})]})}),Object(r.jsx)("tbody",{children:t&&t.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsxs)("td",{children:[" ",Object(r.jsx)(i.b,{to:"/profile/"+e._id.senderId,children:e._id.name})," "]}),Object(r.jsx)("td",{children:e.totalPosts})]})}))})]})]})};var T=function(){Object(o.b)();var e=Object(o.c)((function(e){return e.user.update_user})),t=Object(n.useState)([]),s=Object(d.a)(t,2),c=(s[0],s[1]),a=Object(n.useState)(),i=Object(d.a)(a,2),l=i[0],j=i[1],b=Object(n.useState)(),u=Object(d.a)(b,2),h=u[0],O=u[1],m=Object(n.useState)(),x=Object(d.a)(m,2),p=x[0],f=x[1],g=function(){window.open("/classes","_blank")};return Object(n.useEffect)((function(){console.log("useeffect right"),fetch("/getfollowing").then((function(e){return e.json()})).then((function(e){c(e.following)})),fetch("/getTopRated").then((function(e){return e.json()})).then((function(e){console.table(e.users),j(e.users)})),fetch("/getUpcomingClasses").then((function(e){return e.json()})).then((function(e){O(e.classes)})),fetch("/getTopContributors").then((function(e){return e.json()})).then((function(e){f(e.result)}))}),[e]),Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsxs)("div",{className:"sidebar_Top",children:[Object(r.jsxs)("div",{className:"sidebar_bottom1",children:[Object(r.jsx)("p",{children:"Upcoming Classes "}),h&&h.map((function(e){return Object(r.jsxs)("div",{className:"sidebarClass ","data-toggle":"tooltip",title:"click to see all classes",style:{cursor:"pointer"},children:[Object(r.jsx)("h3",{className:"sidebarHeading",onClick:g,children:e.heading}),Object(r.jsx)("a",{href:"/profile/"+e.senderId,children:Object(r.jsx)("h4",{className:"sidebarHeading1",children:e.name})}),Object(r.jsx)("h6",{children:e.difference})]})}))]}),Object(r.jsx)("div",{className:"sidebar_top",children:Object(r.jsx)(k,{users:l})}),Object(r.jsx)("div",{className:"sidebar_stats"})]}),Object(r.jsx)("div",{className:"sidebar_top",children:Object(r.jsx)(C,{users:p})})]})},I=s(107);s(74);var R=function(){Object(o.b)();var e=Object(o.c)((function(e){return e.user.update_user})),t=Object(n.useState)([]),s=Object(d.a)(t,2),c=s[0],a=s[1];return Object(n.useEffect)((function(){fetch("/getfollowing").then((function(e){return e.json()})).then((function(e){a(e.following)}))}),[e]),Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsxs)("div",{className:"sidebar_Top",children:[Object(r.jsxs)("div",{className:"sidebar_top",children:[Object(r.jsx)("div",{className:"sidebar_avatar",children:Object(r.jsxs)(I.a,{children:[e&&e.email&&e.email.charAt(0)," "]})}),Object(r.jsx)("h2",{children:e&&e.username}),Object(r.jsx)("h4",{children:e&&e.qualifications})]}),Object(r.jsxs)("div",{className:"sidebar_stats",children:[Object(r.jsx)("div",{className:"sidebar_stat",children:e&&e.isTeacher&&Object(r.jsx)("p",{children:Object(r.jsx)("span",{class:"badge badge-warning",style:{fontSize:"15px"},children:"Teacher"})})}),Object(r.jsxs)("div",{className:"sidebar_stat",children:[Object(r.jsxs)("div",{className:"stat",children:[Object(r.jsx)("p",{children:Object(r.jsx)("span",{class:"badge badge-pill badge-secondary",children:"Followers"})}),Object(r.jsx)("p",{className:"sidebar_statNumber",children:e&&e.followers&&e.followers.length})]}),Object(r.jsxs)("div",{className:"stat",children:[Object(r.jsx)("p",{children:Object(r.jsx)("span",{class:"badge badge-pill badge-secondary",children:"Following"})}),Object(r.jsx)("p",{className:"sidebar_statNumber",children:e&&e.following&&e.following.length})]})]})]})]}),Object(r.jsxs)("div",{className:"sidebar_bottom",children:[Object(r.jsx)("p",{children:"Skills"}),e&&e.areasOfInterest&&e.areasOfInterest.length>0&&e.areasOfInterest.map((function(e){return e.isSelected&&(t=e.skill,Object(r.jsx)("div",{className:"sidebar_recentItem",children:Object(r.jsxs)("span",{className:"badge badge-pill badge-light",children:["# ",t]})}));var t}))]}),Object(r.jsxs)("div",{className:"sidebar_bottom",children:[Object(r.jsx)("p",{children:"Following"}),c.map((function(e){return Object(r.jsx)(_,{user:e})}))]})]})},D=s(49),E=s.n(D),L=s(30),U=(s(75),s(105)),A=s(106);s(76);var P=function(e){var t=e.Icon,s=e.title,n=e.color;return Object(r.jsxs)("div",{className:"inputOption",children:[Object(r.jsx)(t,{style:{color:n}}),Object(r.jsx)("h4",{children:s})]})},H=(s(77),s(78),function(e){var t=Object(n.useState)(),s=Object(d.a)(t,2);s[0],s[1];return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"commented-section mt-2",children:[Object(r.jsxs)("div",{class:"d-flex flex-row align-items-center commented-user",children:[Object(r.jsx)("h5",{class:"mr-2",children:e.username}),Object(r.jsx)("span",{class:"dot mb-1"}),Object(r.jsx)("span",{class:"mb-1 ml-2",children:e.dateTime})]}),Object(r.jsx)("div",{class:"comment-text-sm",children:Object(r.jsx)("span",{children:e.desc})})]})})}),J=function(e){var t=Object(n.useState)(null),s=Object(d.a)(t,2),c=s[0],a=s[1],i=Object(o.c)((function(e){return e.user.update_user})),l=Object(n.useState)(),j=Object(d.a)(l,2),b=j[0],u=j[1];Object(n.useEffect)((function(){fetch("/getComments/".concat(e.postid)).then((function(e){return e.json()})).then((function(e){console.log("in get post",e.post),200==e.status&&a(e.comments)}))}),[]);var h=function(){var t=Object(m.a)(p.a.mark((function t(s){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("clicked"),s.preventDefault(),t.next=4,fetch("/addComment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({desc:b,postid:e.postid})});case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,console.log(c),422!==c.status&&c?(a(c.comments),console.log(c.comments),window.alert("Comment Successful"),u("")):window.alert("Cannot do comment");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{class:"container",children:Object(r.jsx)("div",{class:"d-flex justify-content-center row",id:"commentstarting",children:Object(r.jsx)("div",{class:"d-flex flex-column col-md-8",children:Object(r.jsxs)("div",{class:"coment-bottom bg-white p-2 px-4",children:[Object(r.jsxs)("div",{class:"d-flex flex-row add-comment-section mt-4 mb-4",children:[Object(r.jsxs)(I.a,{children:[i&&i.email&&i.email.charAt(0)," "]}),Object(r.jsx)("input",{type:"text",class:"form-control mr-3",placeholder:"Add comment",onChange:function(e){var t=e.target.value;console.log(t),u(t)},value:b}),Object(r.jsx)("button",{class:"btn btn-primary",type:"button",onClick:h,children:"Comment"})]}),c&&c.map((function(e){return Object(r.jsx)(H,{username:e.senderName,desc:e.description,dateTime:e.dateTime})}))]})})})})},G=function(e){var t=Object(n.useState)(!1),s=Object(d.a)(t,2),c=s[0],a=s[1],i=Object(n.useState)(e.isAttending),l=Object(d.a)(i,2),o=l[0],j=l[1];Object(n.useEffect)((function(){j(e.isAttending)}),[]);var b=function(){var t=Object(m.a)(p.a.mark((function t(s){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("feed ki id",e.id),t.next=3,fetch("/changeattendee",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAttending:o,postId:e.id})});case 3:return n=t.sent,t.next=6,n.json();case 6:"400"===(n=t.sent).status?console.log("Cannot change attendee"):(console.log("changed attendee successfully"),j(n.isAttending));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log("posts ke props",e),Object(r.jsxs)("div",{className:"post",children:[Object(r.jsxs)("div",{className:"post_side",children:[Object(r.jsxs)("div",{className:"post_header",children:[Object(r.jsx)(I.a,{children:e.name[0]}),Object(r.jsxs)("div",{className:"post_info",children:[Object(r.jsx)("h2",{children:e.name}),Object(r.jsx)("p",{children:e.dateTime})]})]}),Object(r.jsx)("div",{className:"post_sider",children:o?Object(r.jsx)("button",{className:" btn btn-lg btn-success","data-toggle":"tooltip",title:"Click here to not attend the class",onClick:b,children:"Attending"}):Object(r.jsx)("button",{className:" btn btn-lg btn-warning","data-toggle":"tooltip",title:"Click to attend this class",onClick:b,children:"Attend"})})]}),Object(r.jsxs)("div",{className:"post_body",children:[Object(r.jsxs)("div",{className:"headingAndTiming","data-toggle":"tooltip",title:"click to join meet",onClick:function(){window.open(e.link,"_blank")},children:[Object(r.jsx)("div",{className:"heading",children:Object(r.jsx)("p",{children:e.heading})}),Object(r.jsx)("div",{className:"timing",children:Object(r.jsx)("p",{children:e.formattedStartDate})})]}),Object(r.jsx)("div",{className:"description",children:Object(r.jsx)("p",{children:e.description})})]}),Object(r.jsxs)("div",{className:"post_buttons",children:[Object(r.jsx)(P,{Icon:U.a,title:"Like","data-toggle":"tooltip",color:"gray"}),Object(r.jsx)("button",{Icon:A.a,class:"btn btn-primary",onClick:function(e){console.log("button clicked"),a(!c)},children:" Comment "})]}),c&&Object(r.jsx)(J,{postid:e.id})]})};var F=function(){var e,t=Object(n.useRef)(null),s=function(){var s=Object(m.a)(p.a.mark((function s(n){var c,a,r;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.preventDefault(),console.log("button",n.target[3].value,n.target[4].value),c=n.target[3].value+"T"+n.target[4].value+":00",a=n.target[3].value+"T"+n.target[5].value+":00",console.log("Date",c,a),e={heading:n.target[0].value,link:n.target[1].value,description:n.target[2].value,startDate:c,endDate:a},s.next=8,fetch("/addpost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:e})});case 8:return r=s.sent,s.next=11,r.json();case 11:"400"===(r=s.sent).status?window.alert("Cannot add post"):(window.alert("Added post successfully"),t.current.reset());case 13:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"feed",children:Object(r.jsxs)("div",{className:"feed_inputContainer",children:[Object(r.jsxs)("div",{className:"feed_input",children:[Object(r.jsx)(E.a,{}),Object(r.jsxs)("form",{ref:t,className:"externalpost",onSubmit:s,children:[Object(r.jsxs)("div",{className:"direction",children:[Object(r.jsx)("h3",{children:"Heading"}),Object(r.jsx)("textarea",{class:"form-control",name:"heading",id:"Textarea1",rows:"1"})]}),Object(r.jsxs)("div",{className:"direction",children:[Object(r.jsx)("h3",{children:"Link"}),Object(r.jsx)("textarea",{class:"form-control",name:"link",id:"Textarea2",rows:"1"})]}),Object(r.jsxs)("div",{className:"direction",children:[Object(r.jsx)("h3",{children:"Description"}),Object(r.jsx)("textarea",{class:"form-control",name:"description",id:"Textarea3",rows:"3"})]}),Object(r.jsxs)("div",{className:"time",children:[Object(r.jsx)("p",{className:"timeLabel",children:"Date"}),Object(r.jsx)(L.a.Control,{type:"date",name:"date_of_class",className:"formClass"}),Object(r.jsx)("p",{className:"timeLabel",children:"Start Time"}),Object(r.jsx)(L.a.Control,{type:"time",name:"start_time ",className:"formClass"}),Object(r.jsx)("p",{className:"timeLabel",children:"End time"}),Object(r.jsx)(L.a.Control,{type:"time",name:"start_time ",className:"formClass"})]}),Object(r.jsx)("div",{className:"btndirection",children:Object(r.jsx)("button",{type:"submit",class:"btn-primary",children:"Post"})})]})]}),Object(r.jsx)("div",{className:"feed_inputOptions"})]})})};s(79);function q(e){var t=Object(n.useState)([]),s=Object(d.a)(t,2),c=s[0],a=s[1];return Object(n.useEffect)((function(){fetch("/getpost/userkiprofile").then((function(e){return e.json()})).then((function(t){200==t.status&&(a(t.post),console.log("*******************************feeds are set and userid=",e.userId))}))}),[]),Object(r.jsx)("div",{className:"xyz",children:c&&c.map((function(t){return Object(r.jsx)(G,{id:t._id,name:t.name,link:t.link,description:t.description,dateTime:t.formattedDateTime,heading:t.heading,attendees:t.attendees,userId:e.userId,formattedStartDate:t.formattedStartDate,isAttending:t.attendees.includes(e.userId)},t._id)}))})}s(80);var M=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),s=t[0],c=t[1],a=Object(o.b)();return Object(n.useEffect)((function(){fetch("/profile/userkiprofile").then((function(e){return e.json()})).then((function(e){console.log("above if statement",e),200==e.status&&(c(e.user),console.log("inside profile",e.user),a({type:h,payload:{update_user:e.user}}),a({type:O,payload:{user_id:e.user._id}}))}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(S,{}),Object(r.jsx)("div",{className:"searchcomponent"}),Object(r.jsxs)("div",{className:"externalHome",children:[Object(r.jsx)("div",{className:"internal1",children:Object(r.jsx)(R,{})}),Object(r.jsxs)("div",{className:"internal2",children:[Object(r.jsx)("div",{className:"postGenerator",children:s&&s.isTeacher&&Object(r.jsx)(F,{})}),Object(r.jsx)("div",{className:"feeds",children:s&&Object(r.jsx)(q,{userId:s._id})})]}),Object(r.jsx)("div",{className:"internal1",children:Object(r.jsx)(T,{})})]})]})};s(81);var z=function(){var e=Object(l.g)(),t=Object(n.useState)(""),s=Object(d.a)(t,2),c=s[0],a=s[1],b=Object(n.useState)(""),u=Object(d.a)(b,2),h=u[0],O=u[1],x=Object(o.b)(),f=Object(o.c)((function(e){return e.signup.is_user_logged_in}));Object(n.useEffect)((function(){fetch("/auth").then((function(e){return e.json()})).then((function(e){200==e.status&&(console.log("auth called",e),x({type:j,payload:!0}))}))}),[f]);var g=function(){var t=Object(m.a)(p.a.mark((function t(s){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:h})});case 3:n=t.sent,a=n.json(),console.log(n.status),400!==n.status&&a?(window.alert("User logged in Successfully"),x({type:j,payload:!0}),e.push("/home")):window.alert("Invalid Credentials");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsxs)("h2",{children:[Object(r.jsx)("span",{children:"G"}),"yaan",Object(r.jsx)("span",{children:"D"}),"aan"]})}),Object(r.jsxs)("div",{className:"login_container",children:[Object(r.jsx)("h1",{children:"Sign in"}),Object(r.jsxs)("form",{method:"POST",children:[Object(r.jsx)("h5",{children:"Email ID"}),Object(r.jsx)("input",{type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(r.jsx)("h5",{children:"Password"}),Object(r.jsx)("input",{type:"password",value:h,onChange:function(e){return O(e.target.value)}}),Object(r.jsx)("button",{className:"btn btn-info",style:{marginLeft:"40%",fontSize:"15px"},onClick:g,children:" Sign In "})]}),Object(r.jsx)(i.b,{to:"/signup",children:Object(r.jsx)("button",{className:"btn btn-info",style:{marginTop:"4%",marginLeft:"15%",fontSize:"15px"},children:" Create your GyaanDaan Account"})})]})]})},B=s(16);s(82);var K=function(){var e,t,s=Object(l.g)(),c=Object(n.useState)({username:"",email:"",phone:"",password:"",cpassword:""}),a=Object(d.a)(c,2),o=a[0],j=a[1],b=function(s){e=s.target.name,t=s.target.value,console.log(e),console.log(t),j(Object(y.a)(Object(y.a)({},o),{},Object(B.a)({},e,t)))},u=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,c,a,r,i,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clicked"),t.preventDefault(),n=o.username,c=o.email,a=o.phone,r=o.password,i=o.cpassword,e.next=5,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:c,phone:a,password:r,cpassword:i})});case 5:return l=e.sent,e.next=8,l.json();case 8:d=e.sent,console.log(d),422!==d.status&&d?(window.alert("Registration Successful"),console.log("Successful Registration"),s.push("/Login")):(window.alert("Invalid registration"),console.log("Invalid Registration"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"register",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsxs)("h2",{children:[Object(r.jsx)("span",{children:"G"}),"yaan",Object(r.jsx)("span",{children:"D"}),"aan"]})}),Object(r.jsxs)("div",{className:"register_container",children:[Object(r.jsx)("h1",{children:"Sign in"}),Object(r.jsxs)("form",{method:"post",children:[Object(r.jsx)("h5",{children:"Full Name"}),Object(r.jsx)("input",{type:"text",name:"username",id:"name",autoComplete:"off",placeholder:"Enter Name",value:o.username,onChange:b}),Object(r.jsx)("h5",{children:"Email ID"}),Object(r.jsx)("input",{type:"text",name:"email",id:"email",autoComplete:"off",placeholder:"Enter Email",value:o.email,onChange:b}),Object(r.jsx)("h5",{children:"Mobile Number"}),Object(r.jsx)("input",{type:"text",name:"phone",id:"phone",autoComplete:"off",placeholder:"Enter phone Number",value:o.phone,onChange:b}),Object(r.jsx)("h5",{children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",id:"password",autoComplete:"off",placeholder:"******",value:o.password,onChange:b}),Object(r.jsx)("h5",{children:"Confirm Password"}),Object(r.jsx)("input",{type:"password",name:"cpassword",id:"cpassword",autoComplete:"off",placeholder:"******",value:o.cpassword,onChange:b}),Object(r.jsx)("button",{className:"btn btn-info",style:{marginLeft:"40%",fontSize:"15px"},onClick:u,children:"Register"})]}),Object(r.jsx)(i.b,{to:"/Login",children:Object(r.jsx)("button",{className:"btn btn-info",style:{marginTop:"5px",marginLeft:"15%",fontSize:"15px"},children:" Already Sign in ? Login here"})})]})]})},Q=(s(83),function(){var e=Object(l.h)().objectId,t=(Object(o.c)((function(e){return e.user.update_user})),Object(n.useState)("")),s=Object(d.a)(t,2),c=s[0],a=s[1],i=Object(n.useState)(),j=Object(d.a)(i,2),b=j[0],u=j[1],h=function(){var t=Object(m.a)(p.a.mark((function t(s){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/giveRating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileId:e,description:c,rating:b})});case 2:return n=t.sent,t.next=5,n.json();case 5:"400"===(n=t.sent).status?console.log("Cannot add rating"):console.log("Rating added successfully");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,t.target.checked),u(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("button",{type:"button",class:"btn btn-danger","data-toggle":"modal","data-target":"#form",children:[" ","Your rating"," "]}),Object(r.jsx)("div",{class:"modal fade",id:"form",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel1","aria-hidden":"true",children:Object(r.jsx)("div",{class:"modal-dialog modal-dialog-centered",role:"document",children:Object(r.jsxs)("div",{class:"modal-content",children:[Object(r.jsxs)("div",{class:"text-right cross","data-dismiss":"modal",children:[" ",Object(r.jsx)("i",{class:"fa fa-times mr-2"})," "]}),Object(r.jsxs)("div",{class:"card-body text-center",children:[" ",Object(r.jsx)("img",{src:" https://i.imgur.com/d2dKtI7.png",height:"100",width:"100"}),Object(r.jsxs)("div",{class:"comment-box text-center",children:[Object(r.jsx)("h4",{children:"Add a comment"}),Object(r.jsxs)("div",{class:"rating",children:[Object(r.jsx)("input",{type:"radio",name:"rating",value:5,id:"a5",onClick:O}),Object(r.jsx)("label",{for:"a5",children:"\u2606"}),Object(r.jsx)("input",{type:"radio",name:"rating",value:4,id:"a4",onClick:O}),Object(r.jsx)("label",{for:"a4",children:"\u2606"}),Object(r.jsx)("input",{type:"radio",name:"rating",value:3,id:"a3",onClick:O}),Object(r.jsx)("label",{for:"a3",children:"\u2606"}),Object(r.jsx)("input",{type:"radio",name:"rating",value:2,id:"a2",onClick:O}),Object(r.jsx)("label",{for:"a2",children:"\u2606"}),Object(r.jsx)("input",{type:"radio",name:"rating",value:1,id:"a1",onClick:O}),Object(r.jsx)("label",{for:"a1",children:"\u2606"})]}),Object(r.jsxs)("div",{class:"comment-area",children:[" ",Object(r.jsx)("textarea",{class:"form-control",placeholder:"what is your view?",rows:"4",onChange:function(e){a(e.target.value)}})," "]}),Object(r.jsxs)("div",{class:"text-center mt-4",children:[" ",Object(r.jsxs)("button",{class:"btn btn-success send px-5","data-dismiss":"modal",onClick:h,children:["Send message ",Object(r.jsx)("i",{class:"fa fa-long-arrow-right ml-1"})]})," "]})]})]})]})})})]})});var V=function(e){var t=Object(n.useState)([]),s=Object(d.a)(t,2),c=s[0],a=s[1],i=Object(n.useState)(Object(o.c)((function(e){return e.user.update_user}))),l=Object(d.a)(i,2),j=(l[0],l[1]),b=Object(o.c)((function(e){return e.user.user_id})),u=Object(n.useState)(e.profileUser),O=Object(d.a)(u,2),x=O[0],f=O[1],g=Object(n.useState)(!1),y=Object(d.a)(g,2),N=y[0],w=y[1],_=Object(o.b)();Object(n.useEffect)((function(){fetch("/getpost/".concat(x._id)).then((function(e){return e.json()})).then((function(e){console.log("in get post",e.post),200==e.status&&(a(e.post),console.log("follow dekhna hai ",e.isFollowing),w(e.isFollowing))}))}),[]);var k=function(){var e=Object(m.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/changeFollower",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:x._id,isFollowing:N})});case 2:return s=e.sent,e.next=5,s.json();case 5:s=e.sent,console.log(s.status),console.log("New user data ",s.loggedInUser),"400"!==s.status&&s.loggedInUser?(j(s.loggedInUser),w(!N),f(s.profileUser),console.log("profileUser",s.profileUser),window.alert("Followed Successfully"),_({type:h,payload:{update_user:s.loggedInUser}})):window.alert("Cannot follow");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(S,{}),Object(r.jsx)("div",{className:"searchcomponent",style:{top:"0"},children:Object(r.jsx)(v,{})}),Object(r.jsx)("div",{class:"container mt-5",children:Object(r.jsx)("div",{class:"row d-flex justify-content-center",children:Object(r.jsx)("div",{class:"col-md-7",children:Object(r.jsxs)("div",{class:"card p-3 py-4",children:[Object(r.jsxs)("div",{class:"text-center",children:[" ",Object(r.jsx)("img",{src:"https://i.imgur.com/bDLhJiP.jpg",width:"100",class:"rounded-circle"})," "]}),Object(r.jsxs)("div",{class:"text-center mt-3",children:[" ",Object(r.jsx)("span",{class:"bg-secondary p-1 px-4 rounded text-white",children:x.isTeacher?"Teacher":"Student"}),Object(r.jsxs)("h5",{class:"mt-2 mb-0",children:[" ",x.username]})," ",Object(r.jsx)("span",{children:x.qualifications}),Object(r.jsxs)("div",{class:"px-4 mt-1",children:[Object(r.jsxs)("p",{class:"fonts",children:["followers: ",x.followers.length," "]}),Object(r.jsxs)("p",{class:"fonts",children:["followings: ",x.following.length," "]})]}),Object(r.jsxs)("div",{className:"gyandaanRating",children:[Object(r.jsxs)("div",{className:"globalRating",children:[Object(r.jsx)("div",{className:"internalRating",children:"Gyandaan Rating"}),Object(r.jsxs)("div",{className:"internalRating",children:[e.globalRating,Object(r.jsx)("span",{class:"fa fa-star checked"})]})]}),Object(r.jsxs)("div",{className:"userRating",children:[Object(r.jsx)("div",{className:"internalRating",children:Object(r.jsx)(Q,{})}),Object(r.jsxs)("div",{className:"internalRating",children:[e.userRating,Object(r.jsx)("span",{class:"fa fa-star checked"})]})]})]}),Object(r.jsxs)("ul",{class:"social-list",children:[Object(r.jsx)("span",{class:"fa fa-star checked"}),Object(r.jsx)("span",{class:"fa fa-star"}),Object(r.jsx)("span",{class:"fa fa-star"})]}),Object(r.jsxs)("div",{class:"buttons",children:[" ",Object(r.jsx)("button",{class:"btn btn-outline-primary px-4","data-toggle":"tooltip",title:"click to follow",onClick:k,children:N?"Unfollow":"Follow"})," ",Object(r.jsx)("button",{class:"btn btn-primary px-4 ms-3",children:"Contact"})," "]})]})]})})})}),b&&Object(r.jsx)("div",{className:"xyz mt-5",children:c&&c.map((function(e){return Object(r.jsx)(G,{id:e._id,name:e.name,link:e.link,description:e.description,dateTime:e.formattedDateTime,heading:e.heading,attendees:e.attendees,isAttending:e.attendees.includes(b),formattedStartDate:e.formattedStartDate},e._id)}))})]})};var Y=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(0),i=Object(d.a)(a,2),j=i[0],b=i[1],u=Object(l.h)().objectId,m=Object(n.useState)(null),x=Object(d.a)(m,2),p=x[0],f=x[1],g=Object(o.b)();return Object(n.useEffect)((function(){fetch("/profile/".concat(u)).then((function(e){return e.json()})).then((function(e){console.log("above if statement",e.user),200==e.status&&(f(e.user),console.log("data ka user",e),c(e.userRating.rating),b(e.globalRating),g({type:h,payload:{update_user:e.loggedInUser}}),g({type:O,payload:{user_id:e.loggedInUser._id}}))}))}),[]),Object(r.jsx)("div",{children:p&&Object(r.jsx)(V,{profileUser:p,userRating:s,globalRating:j})})};s(35);var W=function(e){var t=e.classess;return Object(r.jsxs)("div",{className:"table-wrapper-scroll-y my-custom-scrollbar row justify-content-center",children:[Object(r.jsx)("div",{className:"tableHeading",children:Object(r.jsx)("h2",{children:"Upcoming/Live Classes"})}),Object(r.jsxs)("table",{class:"table table-bordered table-striped mb-0 ",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"th-sm",children:"ClassName"}),Object(r.jsx)("th",{className:"th-sm",children:"Teacher"}),Object(r.jsx)("th",{className:"th-sm",children:"StartTime"}),Object(r.jsx)("th",{className:"th-sm",children:"Duration"}),Object(r.jsx)("th",{className:"th-sm",children:"Registered"})]})}),Object(r.jsx)("tbody",{children:t&&t.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.heading}),Object(r.jsxs)("td",{children:[" ",Object(r.jsx)(i.b,{to:"/profile/"+e.senderId,children:e.name})," "]}),Object(r.jsx)("td",{children:e.formattedStartDate}),Object(r.jsxs)("td",{children:[e.duration," hours"]}),Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:"tableRegistered",children:[Object(r.jsx)("div",{children:e.attendees.length}),Object(r.jsx)("div",{className:"icon fa fa-users"}),e.isLive&&Object(r.jsxs)("div",{"data-toggle":"tooltip",title:"click to join meet",style:{marginLeft:"50px"},children:[Object(r.jsx)("i",{class:"fa fa-circle text-danger Blink"})," ",Object(r.jsx)(i.b,{to:{pathname:e.link},target:"_blank",children:"LIVE"})]})]})})]})}))})]})]})};var X=function(e){var t=e.classess;return Object(r.jsxs)("div",{className:"table-wrapper-scroll-y my-custom-scrollbar row justify-content-center",children:[Object(r.jsx)("div",{className:"tableHeading",children:Object(r.jsx)("h2",{children:"Past Classes"})}),Object(r.jsxs)("table",{class:"table table-bordered table-striped mb-0 ",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"th-sm",children:"ClassName"}),Object(r.jsx)("th",{className:"th-sm",children:"Teacher"}),Object(r.jsx)("th",{className:"th-sm",children:"StartTime"}),Object(r.jsx)("th",{className:"th-sm",children:"Duration"}),Object(r.jsx)("th",{className:"th-sm",children:"Registered"})]})}),Object(r.jsx)("tbody",{children:t&&t.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.heading}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.formattedStartDate}),Object(r.jsxs)("td",{children:[e.duration," hours"]}),Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:"tableRegistered",children:[Object(r.jsx)("div",{children:e.attendees.length}),Object(r.jsx)("div",{className:"icon fa fa-users"})]})})]})}))})]})]})};var Z=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),s=(t[0],t[1]),c=Object(n.useState)(),a=Object(d.a)(c,2),i=a[0],l=a[1],o=Object(n.useState)(),j=Object(d.a)(o,2),b=j[0],u=j[1];return Object(n.useEffect)((function(){fetch("/getpost/userkiprofile").then((function(e){return e.json()})).then((function(e){200==e.status&&(s(e.post),u(e.upcoming),l(e.past),console.log("uli",e.post))}))}),[]),Object(r.jsxs)("div",{className:"externalClass",children:[Object(r.jsx)(W,{classess:b}),Object(r.jsx)(X,{classess:i})]})};var $=function(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(S,{}),Object(r.jsx)("div",{className:"searchcomponent",style:{top:"0"},children:Object(r.jsx)(v,{})})]}),Object(r.jsx)(Z,{})]})};var ee=function(){var e=Object(o.c)((function(e){return e.signup.is_user_logged_in}));return Object(o.b)(),Object(r.jsx)("div",{children:Object(r.jsx)(i.a,{children:Object(r.jsxs)("div",{className:"page-content",children:[Object(r.jsx)(l.d,{children:Object(r.jsx)(l.b,{path:"/",render:function(){return e?Object(r.jsx)(l.a,{to:"/home"}):Object(r.jsx)(l.a,{to:"/login"})},exact:!0})}),Object(r.jsx)(l.b,{path:"/home",component:M,exact:!0}),Object(r.jsx)(l.b,{path:"/login",component:z,exact:!0}),Object(r.jsx)(l.b,{path:"/signup",component:K,exact:!0}),Object(r.jsx)(l.b,{path:"/classes",component:$,exact:!0}),Object(r.jsx)(l.b,{path:"/profile/:objectId",component:Y,exact:!0})]})})})},te=s(23),se=s(50),ne={is_user_logged_in:!1,userId:""};s(84);var ce={update_user:{},user_id:null};var ae=Object(te.b)({signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return console.log("inside reducer"),Object(y.a)(Object(y.a)({},e),{},{is_user_logged_in:t.payload});case b:return Object(y.a)(Object(y.a)({},e),{},{userId:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return console.log("inside upate user"),console.log("payload",t.payload.update_user),Object(y.a)(Object(y.a)({},e),{},{update_user:t.payload.update_user});case O:return console.log("inside logged in user",t.payload.user_id),Object(y.a)(Object(y.a)({},e),{},{user_id:t.payload.user_id});default:return e}}}),re=[se.a],ie=Object(te.d)(ae,{},Object(te.c)(te.a.apply(void 0,re)));a.a.render(Object(r.jsx)(o.a,{store:ie,children:Object(r.jsx)(ee,{store:ie})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.0ce44231.chunk.js.map